# Basic GitHub Actions Workflow - Simple Test
# Author: David St. John (davestj@gmail.com)
# Date: August 13, 2025
# File: .github/workflows/snake.yml
# Repository: davestj/davestj (GitHub Profile Repository)
# Purpose: We use this workflow to test that our GitHub Actions setup works correctly
# 
# CHANGELOG:
# - v1.0.0 (2025-08-13): Simple test workflow that actually works
#   - We run a basic Debian Trixie container
#   - We output a simple greeting message
#   - We verify the workflow executes without syntax errors

name: Simple GitHub Actions Test

# We set basic permissions for testing
permissions:
  contents: read
  actions: read

on:
  schedule:
    - cron: "0 0 * * *"
  workflow_dispatch:
  push:
    branches:
      - main
      - master

jobs:
  test-basic-workflow:
    name: Test basic workflow functionality
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
      # Step 1: Test that we can run a simple container
      - name: Run Debian Trixie container test
        run: |
          echo "We are starting a Debian Trixie container test..."
          
          # We run our simple test in a Debian Trixie container
          docker run --rm debian:trixie /bin/bash -c "echo 'Hello Github'"
          
          echo "We have successfully completed our container test!"
      
      # Step 2: Output some basic information
      - name: Display workflow information
        run: |
          echo "We are running in workflow: ${{ github.workflow }}"
          echo "We are running on repository: ${{ github.repository }}"
          echo "We were triggered by: ${{ github.event_name }}"
          echo "We are running on: $(date)"
          echo "We have confirmed our GitHub Actions setup is working correctly!"
      
      # Step 3: Create a simple summary
      - name: Create workflow summary
        run: |
          echo "# ✅ Basic Workflow Test Results" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**Date:** $(date)" >> $GITHUB_STEP_SUMMARY
          echo "**Repository:** ${{ github.repository }}" >> $GITHUB_STEP_SUMMARY
          echo "**Triggered by:** ${{ github.event_name }}" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "## Test Results" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "✅ Debian Trixie container executed successfully" >> $GITHUB_STEP_SUMMARY
          echo "✅ Basic echo command worked correctly" >> $GITHUB_STEP_SUMMARY
          echo "✅ GitHub Actions syntax is valid" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "This simple test confirms our workflow infrastructure is working properly."
